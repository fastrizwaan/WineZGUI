# script-change-exe
# Change Default EXE for the prefix, required for installers
# Any given exe can set to default be it from inside prefix or outside prefix
# Steps:
# 1. Ask whether to Find Exe inside prefix (for installers) or any Other exe
# 2. Change EXE values in Script

script-change-exe()
{      
  DBUG "I: Script: Launched ${FUNCNAME[0]}"
  
  source "${WINEZGUI_SCRIPTS}/script-check-variables-loaded-or-not"
  script-check-variables-loaded-or-not
  unset RESPONSE
  RESPONSE=$(${ZENITY_CMD} --title "Change EXE for ${PREFIXNAME}"       \
                    --list --hide-header --width=360 --height=30 \
                    --radiolist --column " "                     \
                    --column "Change"                            \
                        TRUE "Installed Exe (after Setup)"       \
                           0 "Any other Exe"                     \
                    --text   "<b>Set default exe...</b>"         )
  # If Cancel is clicked
  if [ -z "${RESPONSE}" ]; then
       DBUG "I: Change Exe: Cancelled!"
       Script_Window
  fi
  # Print response
  DBUG "I: Script: ${FUNCNAME[0]}: ${RESPONSE} Selected!"

  # If only name, append (wine-xx)
  if   [ "${RESPONSE}" = "Installed Exe (after Setup)" ]; then
         # Call script-get-selected-exe
         source "${WINEZGUI_SCRIPTS}/script-get-selected-exe"
         script-get-selected-exe
         DBUG "I: Script: ${FUNCNAME[0]}: ${SELECTED_EXE} Selected!"
  elif [ "$RESPONSE" = "Any other Exe" ]; then
         # script-change-any-other-exe
         source "${WINEZGUI_SCRIPTS}/script-change-any-other-exe"
         script-change-any-other-exe
         # use locate exe
  fi
  # Change Icon
  source "${WINEZGUI_SCRIPTS}/script-change-icon"
  # We do not want to see zenity dialog of icon change success
  export script-change-icon_DO_NOT_PROMPT="true"
  script-change-icon "${SELECTED_EXE}"

  # Change Prefix
#   source "${WINEZGUI_SCRIPTS}/script-create-change-prefix-file"
#   script-create-change-prefix-file
  # Update files
  # Change EXE_NAME and EXE_PATH in all the required files
  # Change Sha256sum etc.
  source "${WINEZGUI_SCRIPTS}/script-change-exe-variables"
  script-change-exe-variables
}
